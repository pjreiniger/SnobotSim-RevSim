
#include <jni.h>

#include <cassert>

#include "CtreSimMocks/MockHookUtilities.h"
#include "CtreSimMocks/CtrePigeonImuWrapper.h"
#include "com_ctre_phoenix_sensors_PigeonImuJNI.h"
#include "ctre/phoenix/cci/PigeonIMU_CCI.h"

#define GET_THREE_AXIS(type, capType, funcName, size)      \
                                                           \
    type angles[size]; /* NOLINT */                        \
    funcName(ConvertToPigeonWrapper(handle), angles);      \
                                                           \
    j##type fill[size];                                    \
    for (int i = 0; i < size; ++i)                         \
    {                                                      \
        fill[i] = angles[i];                               \
    }                                                      \
                                                           \
    env->Set##capType##ArrayRegion(result, 0, size, fill); \
    return 0;


SnobotSim::CtrePigeonImuWrapper* ConvertToPigeonWrapper(jlong aHandle)
{
    return reinterpret_cast<SnobotSim::CtrePigeonImuWrapper*>(aHandle);
}

extern "C" {
{{functions}}
}  // extern "C"

